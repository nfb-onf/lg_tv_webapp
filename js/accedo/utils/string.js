accedo.define("accedo.utils.string",["accedo.utils.object","accedo.utils.fn"],function(){var b={truncate:function(e,d,c){d=d||30;c=accedo.utils.object.isUndefined(c)?"...":c;return e.length>d?e.slice(0,d-c.length)+c:String(e);},strip:function(c){return c.replace(/^\s+/,"").replace(/\s+$/,"");},stripTags:function(c){return c.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"");},stripScripts:function(c){return c.replace(new RegExp("<script[^>]*>([\\S\\s]*?)<\/script>","img"),"");},escapeHTML:function(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");},unescapeHTML:function(c){return c.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");},camelize:function(c){return c.replace(/-+(.)?/g,function(d,e){return e?e.toUpperCase():"";});},empty:function(c){return/^\s*$/.test(c);},isJSON:function(c){if(b.empty(c)){return false;}var d=c;d=d.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@");d=d.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");d=d.replace(/(?:^|:|,)(?:\s*\[)+/g,"");return(/^[\],:{}\s]*$/).test(d);},parseJSON:function(c){if(b.isJSON(c)){return(window.JSON&&window.JSON.parse)?window.JSON.parse(c):(new Function("return "+c))();}throw new SyntaxError("Badly formed JSON string: "+c);},startsWith:function(d,c){return d.substr(0,c.length)===c;}};if(accedo.getConfigParameter("extendString")){var a=accedo.utils.fn.methodize;accedo.utils.object.extend(String.prototype,{truncate:a(b.truncate),strip:a(b.strip),stripTags:a(b.stripTags),stripScripts:a(b.stripScripts),escapeHTML:a(b.escapeHTML),unescapeHTML:a(b.unescapeHTML),camelize:a(b.camelize),empty:a(b.empty),isJSON:a(b.isJSON),parseJSON:a(b.parseJSON),startsWith:a(b.startsWith)});}return b;});