if(navigator.userAgent.toLowerCase().indexOf("maple")!=-1){var samsungPluginPlayer_OnCurrentPlayTime=function(){};var samsungPluginPlayer_OnStreamInfoReady=function(){};var samsungPluginPlayer_OnStreamNotFound=function(){};var samsungPluginPlayer_OnRenderError=function(){};var samsungPluginPlayer_OnCustomEvent=function(){};var samsungPluginPlayer_OnConnectionFailed=function(){};var samsungPluginPlayer_OnRenderingComplete=function(){};var samsungPluginPlayer_OnBufferingProgress=function(){};var samsungPluginPlayer_OnBufferingStart=function(){};var samsungPluginPlayer_OnBufferingComplete=function(){};var samsungPluginPlayer_OnAuthenticationFailed=function(){};}accedo.define(null,["accedo.device.manager"],function(){accedo.device.manager.registerDevice((function(){try{var d=new Common.API.Widget();var a=new Common.API.TVKeyValue();var f=new Common.API.Plugin();}catch(h){}var c="samsung";var m={};m[a.KEY_UP]="up";m[a.KEY_DOWN]="down";m[a.KEY_LEFT]="left";m[a.KEY_RIGHT]="right";m[a.KEY_ENTER]="enter";m[a.KEY_RED]="red";m[a.KEY_GREEN]="green";m[a.KEY_YELLOW]="yellow";m[a.KEY_BLUE]="blue";m[a.KEY_PLAY]="play";m[a.KEY_PAUSE]="pause";m[a.KEY_STOP]="stop";m[a.KEY_FF]="ff";m[a.KEY_RW]="rw";m[a.KEY_INFO]="info";m[a.KEY_EXIT]="exit";m[a.KEY_TOOLS]="tools";m[a.KEY_RETURN]=function(){d.blockNavigation(event);return"back";};var i=function(){d.blockNavigation(event);document.getElementById("pluginObjectAppCommon").SendKeyToTVViewer(a.KEY_VOL_UP);return false;};var j=function(){d.blockNavigation(event);document.getElementById("pluginObjectAppCommon").SendKeyToTVViewer(a.KEY_VOL_DOWN);return false;};m[a.KEY_VOL_UP]=i;m[a.KEY_PANEL_VOL_UP]=i;m[a.KEY_VOL_DOWN]=j;m[a.KEY_PANEL_VOL_DOWN]=j;m[a.KEY_MUTE]=function(){return false;};var g=function(){document.onkeydown=function(e){var o=e.keyCode;accedo.device.manager.keyHandling(o);};};var l=(function(){var u=null;var o=-1;var v=null;var r=0;var s=null;var t=false;var q=null;var p=0;var w=false;var e=1;return{STOPPED:0,PLAYING:1,PAUSED:2,BUFFERING:5,CONNECTING:6,ERROR:7,init:function(){var y=true;o=this.STOPPED;u=document.getElementById("pluginPlayer");if(!u){y=false;}else{var x=document.getElementById("pluginObjectTVMW");if(!x){y=false;}else{v=x.GetSource();x.SetMediaSource();samsungPluginPlayer_OnCurrentPlayTime=accedo.utils.fn.bind(this.setCurTime,this);samsungPluginPlayer_OnStreamInfoReady=accedo.utils.fn.bind(this.setTotalTime,this);samsungPluginPlayer_OnStreamNotFound=accedo.utils.fn.bind(this.onStreamNotFound,this);samsungPluginPlayer_OnRenderError=accedo.utils.fn.bind(this.onRenderError,this);samsungPluginPlayer_OnCustomEvent=accedo.utils.fn.bind(this.onCustomEvent,this);samsungPluginPlayer_OnConnectionFailed=accedo.utils.fn.bind(this.onConnectionFailed,this);samsungPluginPlayer_OnRenderingComplete=accedo.utils.fn.bind(this.onRenderingComplete,this);samsungPluginPlayer_OnBufferingProgress=accedo.utils.fn.bind(this.onBufferingProgress,this);samsungPluginPlayer_OnBufferingStart=accedo.utils.fn.bind(this.onBufferingStart,this);samsungPluginPlayer_OnBufferingComplete=accedo.utils.fn.bind(this.onBufferingComplete,this);samsungPluginPlayer_OnAuthenticationFailed=accedo.utils.fn.bind(this.onAuthenticationFailed,this);u.OnCurrentPlayTime="samsungPluginPlayer_OnCurrentPlayTime";u.OnStreamInfoReady="samsungPluginPlayer_OnStreamInfoReady";u.OnStreamNotFound="samsungPluginPlayer_OnStreamNotFound";u.OnRenderError="samsungPluginPlayer_OnRenderError";u.OnCustomEvent="samsungPluginPlayer_OnCustomEvent";u.OnConnectionFailed="samsungPluginPlayer_OnConnectionFailed";u.OnRenderingComplete="samsungPluginPlayer_OnRenderingComplete";u.OnBufferingProgress="samsungPluginPlayer_OnBufferingProgress";u.OnAuthenticationFailed="samsungPluginPlayer_OnAuthenticationFailed";u.OnBufferingStart="samsungPluginPlayer_OnBufferingStart";u.OnBufferingComplete="samsungPluginPlayer_OnBufferingComplete";w=true;}}return y;},deinit:function(){console.log("samsung media deinit");if(!w){return false;}if(o===this.CONNECTING){return false;}this.stop();var x=document.getElementById("pluginTVMW");if(x&&(v!=null)){x.SetSource(v);console.log("Restore source to "+v);}w=false;console.log("samsung media deinit success");return true;},setWindowSize:function(x){if(x&&x.top&&x.left&&x.width&&x.height){u.SetDisplayArea(x.left,x.top,x.width,x.height);if(o==this.PLAYING){}else{if(o===this.PAUSED){this.pause();}}s=x;return true;}return false;},setFullscreen:function(){this.setWindowSize({left:0,top:0,width:960,height:540});},setMediaURL:function(x){if(x){q=x;return true;}else{return false;}},play:function(z){console.log("samsung media play");var y;if(z&&z.sec){y=z.sec;console.log("play at sec: "+y);}var x;if(q===null){return false;}else{if(o===this.STOPPED){o=this.CONNECTING;e=1;if(y){x=u.ResumePlay(q,y);}else{x=u.Play(q);}return x;}else{if(o===this.PAUSED){if(y){x=u.ResumePlay(q,y);}else{x=this.resume();}return x;}else{if(o===this.PLAYING||o===this.BUFFERING||o===this.CONNECTING){if(y){x=u.ResumePlay(q,y);return x;}else{if(e!==1){return this.speed(1);}else{return true;}}}}}}},pause:function(){console.log("pause");if(o===this.STOPPED||o===this.BUFFERING||o===this.CONNECTING){return false;}o=this.PAUSED;u.Pause();return true;},stop:function(){console.log("stop");if(o===this.CONNECTING){return false;}else{if(o!==this.STOPPED){o=this.STOPPED;u.Stop();return true;}}},resume:function(){console.log("resume");if(o===this.PAUSED){o=this.PLAYING;u.Resume();e=1;u.SetPlaybackSpeed(e);return true;}else{return false;}},skip:function(x){if(!x||x===0){return false;}if(o!==this.PLAYING&&o!==this.PAUSED){return false;}if(o===this.PAUSED){this.resume();}var y=r;if(y+x*1000>0){y+=x*1000;if(y>p-x){y=p-x;}this.setCurTime(y,true);}else{this.setCurTime(0,true);}if(x<0){u.JumpBackward(x*-1);}else{u.JumpForward(x);}return true;},speed:function(x){if(o!==this.PLAYING){return false;}x=Math.floor(x);if(x>16){x=16;}if(x<-16){x=-16;}e=x;u.SetPlaybackSpeed(x);return true;},getState:function(){return o;},setLoop:function(x){t=x;},setCurTime:function(A,D){if(accedo.utils.object.isUndefined(D)){D=false;}if(o!==this.BUFFERING||D){r=parseInt(A);var z=(100*A)/p;var B="";var C=0;var G=0;var E=0;var y=0;var x=0;var F=0;if(o===this.PLAYING){y=Math.floor(p/3600000);C=Math.floor(A/3600000);x=Math.floor((p%3600000)/60000);G=Math.floor((A%3600000)/60000);var H=Math.floor((p%60000)/1000);E=Math.floor((A%60000)/1000);B=C+":";if(G==0){B+="00:";}else{if(G<10){B+="0"+G+":";}else{B+=G+":";}}if(E==0){B+="00 / ";}else{if(E<10){B+="0"+E+" / ";}else{B+=E+" / ";}}B+=y+":";if(x==0){B+="00:";}else{if(x<10){B+="0"+x+":";}else{B+=x+":";}}if(H==0){B+="00";}else{if(H<10){B+="0"+H;}else{B+=H;}}}}else{B="0:00:00 / 0:00:00";}this.onSetCurTime(A,B,z);},setTotalTime:function(){p=u.GetDuration();},onSetCurTime:function(z,y,x){console.log(z+" "+y+" "+x);},eventHandler:function(x){console.log("video eventHandler: "+x);},onStreamNotFound:function(){this.stop();o=this.ERROR;this.eventHandler("onStreamNotFound");},onConnectionFailed:function(){this.stop();o=this.ERROR;this.eventHandler("onConnectionFailed");},onRenderError:function(x){this.stop();o=this.ERROR;this.eventHandler("onRenderError "+x,x);},onCustomEvent:function(x){this.stop();o=this.ERROR;this.eventHandler("onCustomEvent "+x,x);},onAuthenticationFailed:function(){this.stop();o=this.ERROR;this.eventHandler("onAuthenticationFailed");},onRenderingComplete:function(){this.stop();this.eventHandler("onRenderingComplete");if(t){this.play();}},onBufferingProgress:function(){o=this.BUFFERING;this.eventHandler("onBufferingProgress");},onBufferingStart:function(){o=this.BUFFERING;this.eventHandler("onBufferingStart");},onBufferingComplete:function(){if(o==this.PAUSED){this.pause();}else{o=this.PLAYING;}this.eventHandler("onBufferingComplete");}};})();var n=(function(){var p=null;var o=null;var e=null;return{getDeviceType:function(){if(o!==null){return o;}if(window.location.search.indexOf("product=")==-1){o="emulator";return o;}else{var t=window.location.search[window.location.search.indexOf("product=")+8];switch(t){case"2":try{var s=document.getElementById("pluginObjectTV");var r=s.GetBDProductType();switch(r){case 0:case 1:case 3:default:o="bd";return o;break;case 2:o="ht";return o;break;}}catch(q){console.log("error: "+q);}o="bd";return o;case"1":o="monitor";return o;case"0":default:o="tv";return o;break;}}return false;},getFirmware:function(){if(e!==null){return e;}try{var r=document.getElementById("pluginObjectNNavi").GetFirmware();e=r;return r;}catch(q){console.log("error getFirmware");return false;}},getMac:function(){if(p!==null){return p;}if(window.location.search.indexOf("product=")==-1){p="AACCEEDD0011";return p;}else{var q=document.getElementById("pluginNetwork");q.CreatePlugin();q.GetNetworkInfo(1);p=q.GetMAC(1);return p;}},checkConnection:function(s){if(window.location.search.indexOf("product=")==-1){return true;}else{var q=document.getElementById("pluginNetwork");q.CreatePlugin();var r=q.CheckPhysicalConnection(1);var t=q.CheckPhysicalConnection(0);if(r==1||t==1){return true;}else{s();return false;}}}};})();var b=(function(){var o="samsung";var e="maple";return{usageLog:function(v,r,s){var t=document.createElement("div");var u=ASUK.getMarc();var w=Math.floor(Math.random()*100000);var q="serial";var x='<img src="http://telecity.funspot.tv/dyn/portal_logger/portal_logger?operatorId='+v+"&stb="+o+"&browser="+e+"&mac="+u+"&serial="+q+"&regType=pic&randomgen="+w+'">';var p='<img src="http://telecity.funspot.tv/dyn/usage_logger/usage_logger?operatorId='+v+"&offeringId="+r+"&appInfoId="+s+"&stb="+o+"&browser="+e+"&mac="+u+"&serial="+q+"&regType=pic&randomgen="+w+'">';t.innerHTML=x;t.innerHTML+=p;}};})();var k=function(){if(!e){var e={log:function(o){alert("log:"+o);},info:function(o){alert("info"+o);}};}window.onShow=function(){f.SetBannerState(1);};window.onunload=function(){e.log("samsung onunload");l.deinit();};f.registFullWidgetKey();d.sendReadyEvent();g();};k();return{deviceId:c,keySet:m,mediaPlayer:l,identification:n,logging:b};})());accedo.device.samsung="Value set to notify my lazy loader that I have been loaded";});