accedo.define("nfb.config",[],function(){return{
url:"http://www.nfb.ca/",
API_feature:"api/v2/json/pagefeature/all/en",
API_mostviewed:"api/v2/json/channel/content/most_popular",
API_channel:"api/v2/json/channel/all/en",
API_kid:"api/v2/json/channel/content/kids_movies",
API_film:"api/v2//json/film/get_info/",
API_search:"api/v2/json/search/",
API_channelid:"",
API_channelpre:"api/v2/json/channel/content/",
API_key1:"62c55c4d-a43d-5785-839e-5e0c4eb7a3a0",
API_key:"?api_key=",
API_stat:"api/v2/json/stat/player_event/",
lang:"en",
selected_item:0,currentSubcontroller:0,history:[0],feature_current_id:0,mostview_start_id:[],mostview_focus_id:[],channel_start_id:[],channel_focus_id:[],channel_result_start_id:[],channel_result_focus_id:[],kid_start_id:[],kid_focus_id:[],related_result:[],related_film_name:[],related_start_id:[],related_focus_id:[],fav_start_id:[],fav_focus_id:[],search_start_id:[],search_focus_id:[],film_history:[],temp_film:[],film:"",sub_id:0,search:"sample",temp:"",angrybird:"image/bg_kids.jpg",result:"videos",video:"vid√©os",search_lang:"",currentCategory:0,playingVideo:false,maxDigit:6,first:false,selected:0,usingmouse:false,current_focus:null,vp_click:false,vp_focus:null,onmouseon:function(){nfb.config.usingmouse=true;var a=this;switch(nfb.config.playingVideo){case false:nfb.config.current_focus=accedo.focus.manager.getCurrentFocus();accedo.focus.manager.getCurrentFocus().blur();break;case true:nfb.config.current_focus=accedo.app.getCurrentController().get("detail_video");nfb.config.vp_focus=accedo.focus.manager.getCurrentFocus();accedo.focus.manager.getCurrentFocus().blur();a.showProgressBar();break;}},onmouseoff:function(){nfb.config.usingmouse=false;switch(nfb.config.playingVideo){case false:accedo.device.manager.unregisterKey("enter");var a;a=accedo.focus.manager.getCurrentFocus();if(a==null||a==""){if(nfb.config.current_focus!=null||nfb.config.current_focus!=""){accedo.focus.manager.requestFocus(nfb.config.current_focus);}else{switch(nfb.config.currentSubcontroller){case 0:accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("feature_thumb"));break;case 1:if(accedo.app.getCurrentController().get("list1")==null||accedo.app.getCurrentController().get("list1")==""){accedo.app.getCurrentController().get("cat2");}else{accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("list1"));}break;case 2:if(accedo.app.getCurrentController().get("list1")==null||accedo.app.getCurrentController().get("list1")==""){accedo.app.getCurrentController().get("cat3");}else{accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("list1"));}break;case 3:accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("ch1"));break;case 4:if(accedo.app.getCurrentController().get("list1")==null||accedo.app.getCurrentController().get("list1")==""){accedo.app.getCurrentController().get("cat5");}else{accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("list1"));}break;case 5:if(accedo.app.getCurrentController().get("pop")){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("pop_ok"));}else{accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("k0"));accedo.app.getCurrentController().get("popupPanel").root.setStyle({display:"none"});accedo.app.getCurrentController().get("miniPopup1").root.setStyle({display:"none"});accedo.app.getCurrentController().get("miniPopup2").root.setStyle({display:"none"});accedo.app.getCurrentController().get("miniPopup3").root.setStyle({display:"none"});accedo.app.getCurrentController().get("miniPopup4").root.setStyle({display:"none"});accedo.app.getCurrentController().get("miniPopup5").root.setStyle({display:"none"});accedo.app.getCurrentController().get("miniPopup6").root.setStyle({display:"none"});accedo.app.getCurrentController().get("miniPopup7").root.setStyle({display:"none"});accedo.device.manager.unregisterKey("back");accedo.device.manager.registerKey("back",function(){nfb.config.backto();});}break;case 6:accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("english"));break;case 7:if(accedo.app.getCurrentController().get("pop")){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("pop_ok"));}else{accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("detail_video"));}break;case 8:if(accedo.app.getCurrentController().get("list1")==null||accedo.app.getCurrentController().get("list1")==""){accedo.app.getCurrentController().get("cat1");}else{accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("list1"));}break;case 9:if(accedo.app.getCurrentController().get("list1")==null||accedo.app.getCurrentController().get("list1")==""){accedo.app.getCurrentController().get("cat4");}else{accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("list1"));}break;case 10:if(accedo.app.getCurrentController().get("list1")==null||accedo.app.getCurrentController().get("list1")==""){accedo.app.getCurrentController().get("cat6");}else{accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("list1"));}break;default:accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("cat1"));break;}}}else{if(nfb.config.currentSubcontroller==7){if(accedo.app.getCurrentController().get("pop")){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("pop_ok"));}else{accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("detail_video"));}}else{accedo.utils.fn.defer(function(){accedo.focus.manager.requestFocus(a);});}}break;case true:nfb.config.current_focus=accedo.app.getCurrentController().get("detail_video");accedo.utils.fn.defer(function(){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("stopButton"));});accedo.app.getCurrentController().get("jumpFocus").root.setStyle({display:"none"});break;}},timer:null,APICallFlag:[true,true,true,true],setMouseOff:function(){window.NetCastMouseOff(1);},showProgressBar:function(){var a=this;accedo.device.manager.unregisterKey("enter");if(nfb.config.usingmouse==false&&nfb.config.vp_click==false){accedo.utils.fn.defer(function(){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("stopButton"));});}else{if(nfb.config.vp_click==true){nfb.config.vp_click=false;}}if(a.playingVideo==false){a.playing=true;accedo.app.getCurrentController().get("progress_bar_subcontroller").root.setStyle({display:"block"});accedo.app.getCurrentController().get("progress_bar_subcontroller").root.setStyle({visibility:"",position:""});if(nfb.config.timer!=null){clearTimeout(nfb.config.timer);}nfb.config.timer=accedo.utils.fn.delay(function(){window.NetCastMouseOff(1);accedo.device.manager.registerKey("enter",function(){nfb.config.showProgressBar();});accedo.app.getCurrentController().get("progress_bar_subcontroller").root.setStyle({display:"none"});},5);}else{accedo.app.getCurrentController().get("progress_bar_subcontroller").root.setStyle({display:"block"});if(nfb.config.timer!=null){clearTimeout(nfb.config.timer);}nfb.config.timer=accedo.utils.fn.delay(function(){window.NetCastMouseOff(1);accedo.device.manager.registerKey("enter",function(){nfb.config.showProgressBar();});accedo.app.getCurrentController().get("progress_bar_subcontroller").root.setStyle({display:"none"});},5);window.onkeyup=function(){if(nfb.config.playingVideo==true){accedo.app.getCurrentController().get("progress_bar_subcontroller").root.setStyle({display:"block"});if(nfb.config.timer!=null){clearTimeout(nfb.config.timer);}nfb.config.timer=accedo.utils.fn.delay(function(){window.NetCastMouseOff(1);accedo.device.manager.registerKey("enter",function(){nfb.config.showProgressBar();});accedo.app.getCurrentController().get("progress_bar_subcontroller").root.setStyle({display:"none"});},5);}};}},hideProgressBar:function(){if(nfb.config.timer!=null){clearTimeout(nfb.config.timer);}accedo.app.getCurrentController().get("progress_bar_subcontroller").root.setStyle({display:"none"});if(nfb.config.playingVideo==true){accedo.device.manager.registerKey("enter",function(){nfb.config.showProgressBar();});}},backto:function(){accedo.device.manager.unregisterKey("left");accedo.device.manager.unregisterKey("right");accedo.device.manager.unregisterKey("up");accedo.device.manager.unregisterKey("down");accedo.app.getCurrentController().get("lg_lang").setOption("nextUp","cat7");accedo.app.getCurrentController().get("exit").setOption("nextUp","cat7");accedo.app.getCurrentController().get("back").setOption("nextUp","cat7");var f=accedo.app.getCurrentController().get("layer");switch(nfb.config.history.pop()){case 0:accedo.app.getCurrentController().get("loading_subcontroller").root.setStyle({display:"block"});nfb.config.selected_item=0;f.show();accedo.app.getCurrentController().get("cat1").root.getHTMLElement().removeAttribute("style");accedo.app.getCurrentController().get("cat2").root.getHTMLElement().removeAttribute("style");accedo.app.getCurrentController().get("cat3").root.getHTMLElement().removeAttribute("style");accedo.app.getCurrentController().get("cat4").root.getHTMLElement().removeAttribute("style");accedo.app.getCurrentController().get("cat5").root.getHTMLElement().removeAttribute("style");accedo.app.getCurrentController().get("cat6").root.getHTMLElement().removeAttribute("style");accedo.app.getCurrentController().get("cat7").root.getHTMLElement().removeAttribute("style");accedo.app.getCurrentController().get("cat1").root.getHTMLElement().setAttribute("style","background:orange");nfb.config.currentSubcontroller=0;accedo.app.getCurrentController().get("subcontroller").changeToController(nfb.controllers.featureSubcontroller);if(nfb.config.usingmouse==false){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("feature_thumb"));}accedo.app.getCurrentController().get("loading_subcontroller").root.setStyle({display:"none"});break;case 1:var e="list"+(nfb.config.mostview_focus_id[nfb.config.mostview_focus_id.length-1]);nfb.config.currentSubcontroller=1;accedo.app.getCurrentController().get("subcontroller").changeToController(nfb.controllers.mostviewedSubcontroller);if(nfb.config.usingmouse==false){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get(e));}c="background-image:url(image/bg.jpg); background-repeat: no-repeat;background-size: 1280px 622px";document.body.setAttribute("style",c);f.hide();break;case 2:var h="list"+(nfb.config.fav_focus_id[nfb.config.fav_focus_id.length-1]);nfb.config.currentSubcontroller=2;accedo.app.getCurrentController().get("subcontroller").changeToController(nfb.controllers.mostviewedSubcontroller);if(nfb.config.usingmouse==false){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get(h));}break;case 3:f.show();var d="ch"+(nfb.config.channel_focus_id[nfb.config.channel_focus_id.length-1]);nfb.config.currentSubcontroller=3;accedo.app.getCurrentController().get("subcontroller").changeToController(nfb.controllers.channelSubcontroller);if(nfb.config.usingmouse==false){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get(d));}break;case 4:var b="list"+(nfb.config.kid_focus_id[nfb.config.kid_focus_id.length-1]);nfb.config.currentSubcontroller=4;accedo.app.getCurrentController().get("subcontroller").changeToController(nfb.controllers.mostviewedSubcontroller);if(nfb.config.usingmouse==false){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get(b));}break;case 5:nfb.config.currentSubcontroller=5;accedo.app.getCurrentController().get("subcontroller").changeToController(nfb.controllers.searchSubcontroller);var c="background-image:url(image/bg.jpg); background-repeat: no-repeat;background-size: 1280px 622px";document.body.setAttribute("style",c);if(nfb.config.usingmouse==false){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("k0"));}break;case 7:nfb.config.currentSubcontroller=7;nfb.config.film=nfb.config.film_history.pop();accedo.app.getCurrentController().get("subcontroller").changeToController(nfb.controllers.detailviewSubcontroller);if(nfb.config.usingmouse==false){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get("detail_video"));}break;case 8:nfb.config.temp=nfb.config.related_film_name.pop();var a="list"+(nfb.config.related_focus_id[nfb.config.related_focus_id.length-1]);nfb.config.temp_film=SERVER.getJSON(nfb.config.url+nfb.config.API_film+nfb.config.related_result.pop()+nfb.config.API_key+nfb.config.API_key1);nfb.config.currentSubcontroller=8;accedo.app.getCurrentController().get("subcontroller").changeToController(nfb.controllers.mostviewedSubcontroller);if(nfb.config.usingmouse==false){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get(a));}break;case 9:var g="list"+(nfb.config.channel_result_focus_id[nfb.config.channel_result_focus_id.length-1]);nfb.config.currentSubcontroller=9;accedo.app.getCurrentController().get("subcontroller").changeToController(nfb.controllers.mostviewedSubcontroller);if(nfb.config.usingmouse==false){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get(g));}break;case 10:f.show();var i="list"+(nfb.config.search_focus_id[nfb.config.search_focus_id.length-1]);nfb.config.currentSubcontroller=10;accedo.app.getCurrentController().get("subcontroller").changeToController(nfb.controllers.mostviewedSubcontroller);if(nfb.config.usingmouse==false){accedo.focus.manager.requestFocus(accedo.app.getCurrentController().get(i));}break;default:window.NetCastBack();break;}},lang_set:function(a){nfb.config.lang=a;if(a=="fr"){nfb.config.result="R&eacute;sultats";nfb.config.API_feature="api/v2/json/pagefeature/all/fr";nfb.config.API_mostviewed="api/v2/json/channel/content/plus_vus";nfb.config.API_channel="api/v2/json/channel/all/fr";nfb.config.API_kid="api/v2/json/channel/content/jeunesse";accedo.app.getCurrentController().get("cat1").setText("S&eacute;lection");accedo.app.getCurrentController().get("cat2").setText("Populaires");accedo.app.getCurrentController().get("cat3").setText("Favoris");accedo.app.getCurrentController().get("cat4").setText("Cha&icirc;nes");accedo.app.getCurrentController().get("cat5").setText("Pour enfants");accedo.app.getCurrentController().get("cat6").setText("Recherche");accedo.app.getCurrentController().get("cat7").setText("&Agrave; propos");accedo.app.getCurrentController().get("exit").setText("X");accedo.app.getCurrentController().get("back").setText("Retour");accedo.app.getCurrentController().get("lg_lang").setText("English");}else{nfb.config.result="result";nfb.config.API_feature="api/v2/json/pagefeature/all/en";nfb.config.API_mostviewed="api/v2/json/channel/content/most_popular";nfb.config.API_channel="api/v2/json/channel/all/en";nfb.config.API_kid="api/v2/json/channel/content/kids_movies";accedo.app.getCurrentController().get("cat1").setText("Featured");accedo.app.getCurrentController().get("cat2").setText("Most Viewed");accedo.app.getCurrentController().get("cat3").setText("Favourites");accedo.app.getCurrentController().get("cat4").setText("Channels");accedo.app.getCurrentController().get("cat5").setText("For Kids");accedo.app.getCurrentController().get("cat6").setText("Search");accedo.app.getCurrentController().get("cat7").setText("About");accedo.app.getCurrentController().get("exit").setText("X");accedo.app.getCurrentController().get("back").setText("Back");accedo.app.getCurrentController().get("lg_lang").setText("Fran&ccedil;ais");}}};});