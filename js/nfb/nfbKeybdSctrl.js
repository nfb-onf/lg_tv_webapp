accedo.define("nfb.nfbKeybdSctrl",["accedo.utils.object","accedo.ui.controller","nfb.nfbKeybdSv","nfb.ui.button","nfb.ui.inputContainer","nfb.ui.imgBtn","accedo.device.manager"],function(){return function(a){var e,d;var c=[],h=[],i,f,g;var b=30;return accedo.utils.object.extend(accedo.ui.controller(a),{currentLan:0,capital:false,keySymbol:false,keySymbolSet:0,btnNum:b,getInput:function(){return i.getInputValue();},onCreate:function(l){var j=this;j.setup();j.setView(nfb.nfbKeybdSv);for(var k=0;k<40;k++){c.push(j.get("k"+k));}g=[j.get("miniPopup1"),j.get("miniPopup2"),j.get("miniPopup3"),j.get("miniPopup4"),j.get("miniPopup5"),j.get("miniPopup6"),j.get("miniPopup7")];for(k=0;k<7;k++){h[k]=[];}for(k=0;k<5;k++){h[0].push(j.get("ak"+k));h[5].push(j.get("uk"+k));}for(k=0;k<3;k++){h[1].push(j.get("ck"+k));h[6].push(j.get("lank"+k));}for(k=0;k<6;k++){h[2].push(j.get("ek"+k));}for(k=0;k<4;k++){h[3].push(j.get("ik"+k));h[4].push(j.get("ok"+k));}f=j.get("popupPanel");i=j.get("search_input");j.currentLan=0;c[30].root.addClass("k30");c[31].root.addClass("k31");c[32].root.addClass("k32");j.setKeyTexts();j.setKeyEvents();},backto:function(){accedo.device.manager.unregisterKey("back");accedo.device.manager.registerKey("back",function(){nfb.config.backto();back.root.addClass("back-pressed");accedo.utils.fn.delay(function(){self.get("back").root.removeClass("back-pressed");},0.1);});},fadekey:function(){alert("fade");for(var j=0;j<40;j++){c[j].root.setStyle({opacity:"0.8"});}},showkey:function(){for(var j=0;j<40;j++){c[j].root.setStyle({opacity:"1"});}},setKeyTexts:function(){var j=this;if(j.keySymbol){j.setSymbols();}else{switch(j.currentLan){case 0:if(j.capital==false){j.setSmall();}else{j.setCapital();}break;case 1:if(j.capital==false){j.setSmall();j.setSmallPopupKeys();}else{j.setCapital();j.setCapPopupKeys();}break;default:if(j.capital==false){j.setSmall();}else{j.setCapital();}break;}}},setSymbols:function(){var j=this;switch(j.keySymbolSet){case 0:c[0].setText("1");c[1].setText("2");c[2].setText("3");c[3].setText("4");c[4].setText("5");c[5].setText("6");c[6].setText("7");c[7].setText("8");c[8].setText("9");c[9].setText("0");c[10].setText("-");c[11].setText("/");c[12].setText(":");c[13].setText(";");c[14].setText("(");c[15].setText(")");c[16].setText("$");c[17].setText("&#38;");c[18].setText("@");c[19].setText('"');c[20].setText(".");c[21].setText(",");c[22].setText("?");c[23].setText("!");c[24].setText("'");c[25].setText('"');break;case 1:c[0].setText("[");c[1].setText("]");c[2].setText("{");c[3].setText("}");c[4].setText("#");c[5].setText("%");c[6].setText("^");c[7].setText("*");c[8].setText("+");c[9].setText("=");c[10].setText("_");c[11].setText("\\");c[12].setText("|");c[13].setText("~");c[14].setText("&#60;");c[15].setText(">");c[16].setText("€");c[17].setText("£");c[18].setText("¥");c[19].setText("•");c[20].setText(".");c[21].setText(",");c[22].setText("?");c[23].setText("!");c[24].setText("'");c[25].setText('"');break;}},setCapPopupKeys:function(){h[0][0].setText("A");h[0][1].setText("À");h[0][2].setText("Â");h[0][3].setText("Ä");h[1][0].setText("C");h[1][1].setText("Ç");h[2][0].setText("E");h[2][1].setText("È");h[2][2].setText("É");h[2][3].setText("Ê");h[2][4].setText("Ë");h[3][0].setText("I");h[3][1].setText("Î");h[3][2].setText("Ï");h[4][0].setText("O");h[4][1].setText("Ô");h[4][2].setText("Œ");h[5][0].setText("U");h[5][1].setText("Ù");h[5][2].setText("Û");h[5][3].setText("Ü");},setSmallPopupKeys:function(){h[0][0].setText("a");h[0][1].setText("à");h[0][2].setText("â");h[0][3].setText("ä");h[1][0].setText("c");h[1][1].setText("ç");h[2][0].setText("e");h[2][1].setText("è");h[2][2].setText("é");h[2][3].setText("ê");h[2][4].setText("ë");h[3][0].setText("i");h[3][1].setText("î");h[3][2].setText("ï");h[4][0].setText("o");h[4][1].setText("ô");h[4][2].setText("œ");h[5][0].setText("u");h[5][1].setText("ù");h[5][2].setText("û");h[5][3].setText("ü");},setCapital:function(){c[0].setText("A");c[1].setText("B");c[2].setText("C");c[3].setText("D");c[4].setText("E");c[5].setText("F");c[6].setText("G");c[7].setText("H");c[8].setText("I");c[9].setText("J");c[10].setText("K");c[11].setText("L");c[12].setText("M");c[13].setText("N");c[14].setText("O");c[15].setText("P");c[16].setText("Q");c[17].setText("R");c[18].setText("S");c[19].setText("T");c[20].setText("U");c[21].setText("V");c[22].setText("W");c[23].setText("X");c[24].setText("Y");c[25].setText("Z");},setSmall:function(){c[0].setText("a");c[1].setText("b");c[2].setText("c");c[3].setText("d");c[4].setText("e");c[5].setText("f");c[6].setText("g");c[7].setText("h");c[8].setText("i");c[9].setText("j");c[10].setText("k");c[11].setText("l");c[12].setText("m");c[13].setText("n");c[14].setText("o");c[15].setText("p");c[16].setText("q");c[17].setText("r");c[18].setText("s");c[19].setText("t");c[20].setText("u");c[21].setText("v");c[22].setText("w");c[23].setText("x");c[24].setText("y");c[25].setText("z");},setSingleKeyText:function(m){i.keepInputFocus();var l=i.getInputValue();var k=i.getCaretPosition();var j="";if(l.length<i.maxlength()){if(k>-1){j=l.substr(0,k)+m+l.substr(k,l.length);i.setInputValue(j);i.setCaretPosition(k+1,0);}}},setKeyEvents:function(){var j=this;h[0][0].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("A");}else{j.setSingleKeyText("a");}f.root.setStyle({display:"none"});g[0].root.setStyle({display:"none"});k();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[0]);j.backto();});h[0][1].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("À");}else{j.setSingleKeyText("à");}k();f.root.setStyle({display:"none"});g[0].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[0]);j.backto();});h[0][2].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Â");}else{j.setSingleKeyText("â");}k();f.root.setStyle({display:"none"});g[0].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[0]);j.backto();});h[0][3].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Ä");}else{j.setSingleKeyText("ä");}k();f.root.setStyle({display:"none"});g[0].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[0]);j.backto();});h[0][4].addEventListener("click",function(){k();f.root.setStyle({display:"none"});g[0].root.setStyle({display:"none"});j.backto();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[0]);j.backto();});h[1][0].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("C");}else{j.setSingleKeyText("c");}k();f.root.setStyle({display:"none"});g[1].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[2]);j.backto();});h[1][1].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Ç");}else{j.setSingleKeyText("ç");}k();f.root.setStyle({display:"none"});g[1].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[2]);j.backto();});h[1][2].addEventListener("click",function(){k();f.root.setStyle({display:"none"});g[1].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[2]);j.backto();});h[2][0].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("E");}else{j.setSingleKeyText("e");}k();f.root.setStyle({display:"none"});g[2].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[4]);j.backto();});h[2][1].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("È");}else{j.setSingleKeyText("è");}k();f.root.setStyle({display:"none"});g[2].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[4]);j.backto();});h[2][2].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("É");}else{j.setSingleKeyText("é");}k();f.root.setStyle({display:"none"});g[2].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[4]);j.backto();});h[2][3].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Ê");}else{j.setSingleKeyText("ê");}k();f.root.setStyle({display:"none"});g[2].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[4]);j.backto();});h[2][4].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Ë");}else{j.setSingleKeyText("ë");}k();f.root.setStyle({display:"none"});g[2].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[4]);j.backto();});h[2][5].addEventListener("click",function(){k();f.root.setStyle({display:"none"});g[2].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[4]);j.backto();});h[3][0].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("I");}else{j.setSingleKeyText("i");}k();f.root.setStyle({display:"none"});g[3].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[8]);j.backto();});h[3][1].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Î");}else{j.setSingleKeyText("î");}k();f.root.setStyle({display:"none"});g[3].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[8]);j.backto();});h[3][2].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Ï");}else{j.setSingleKeyText("ï");}k();f.root.setStyle({display:"none"});g[3].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[8]);j.backto();});h[3][3].addEventListener("click",function(){k();f.root.setStyle({display:"none"});g[3].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[8]);j.backto();});h[4][0].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("O");}else{j.setSingleKeyText("o");}k();f.root.setStyle({display:"none"});g[4].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[14]);j.backto();});h[4][1].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Ô");}else{j.setSingleKeyText("ô");}k();f.root.setStyle({display:"none"});g[4].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[14]);j.backto();});h[4][2].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Œ");}else{j.setSingleKeyText("œ");}k();f.root.setStyle({display:"none"});g[4].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[14]);j.backto();});h[4][3].addEventListener("click",function(){k();f.root.setStyle({display:"none"});g[4].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[14]);j.backto();});h[5][0].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("U");}else{j.setSingleKeyText("u");}k();f.root.setStyle({display:"none"});g[5].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[20]);j.backto();});h[5][1].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Ù");}else{j.setSingleKeyText("ù");}k();f.root.setStyle({display:"none"});g[5].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[20]);j.backto();});h[5][2].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Û");}else{j.setSingleKeyText("û");}k();f.root.setStyle({display:"none"});g[5].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[20]);j.backto();});h[5][3].addEventListener("click",function(){i.keepInputFocus();if(j.capital){j.setSingleKeyText("Ü");}else{j.setSingleKeyText("ü");}k();f.root.setStyle({display:"none"});g[5].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[20]);j.backto();});h[5][4].addEventListener("click",function(){k();f.root.setStyle({display:"none"});g[5].root.setStyle({display:"none"});accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[20]);j.backto();});c[0].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("1");break;case 1:i.keepInputFocus();j.setSingleKeyText("[");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("A");}else{i.keepInputFocus();j.setSingleKeyText("a");}break;case 1:i.keepInputFocus();f.root.setStyle({display:"block"});g[0].root.setStyle({display:"block"});l();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),h[0][0]);accedo.device.manager.unregisterKey("back");accedo.device.manager.registerKey("back",function(){i.keepInputFocus();j.get("popupPanel").root.setStyle({display:"none"});j.get("miniPopup1").root.setStyle({display:"none"});k();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[0]);j.backto();});break;}}});c[1].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("2");break;case 1:i.keepInputFocus();j.setSingleKeyText("]");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("B");}else{i.keepInputFocus();j.setSingleKeyText("b");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("B");}else{i.keepInputFocus();j.setSingleKeyText("b");}break;}}});c[2].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("3");break;case 1:i.keepInputFocus();j.setSingleKeyText("{");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("C");}else{i.keepInputFocus();j.setSingleKeyText("c");}break;case 1:i.keepInputFocus();f.root.setStyle({display:"block"});g[1].root.setStyle({display:"block"});l();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),h[1][0]);accedo.device.manager.unregisterKey("back");accedo.device.manager.registerKey("back",function(){i.keepInputFocus();j.get("popupPanel").root.setStyle({display:"none"});j.get("miniPopup2").root.setStyle({display:"none"});k();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[2]);j.backto();});break;}}});c[3].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("4");break;case 1:i.keepInputFocus();j.setSingleKeyText("}");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("D");}else{i.keepInputFocus();j.setSingleKeyText("d");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("D");}else{i.keepInputFocus();j.setSingleKeyText("d");}break;}}});c[4].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("5");break;case 1:i.keepInputFocus();j.setSingleKeyText("#");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("E");}else{i.keepInputFocus();j.setSingleKeyText("e");}break;case 1:i.keepInputFocus();f.root.setStyle({display:"block"});g[2].root.setStyle({display:"block"});l();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),h[2][0]);accedo.device.manager.unregisterKey("back");accedo.device.manager.registerKey("back",function(){i.keepInputFocus();j.get("popupPanel").root.setStyle({display:"none"});j.get("miniPopup3").root.setStyle({display:"none"});k();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[4]);j.backto();});break;}}});c[5].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("6");break;case 1:i.keepInputFocus();j.setSingleKeyText("%");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("F");}else{i.keepInputFocus();j.setSingleKeyText("f");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("F");}else{i.keepInputFocus();j.setSingleKeyText("f");}break;}}});c[6].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("7");break;case 1:i.keepInputFocus();j.setSingleKeyText("^");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("G");}else{i.keepInputFocus();j.setSingleKeyText("g");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("G");}else{i.keepInputFocus();j.setSingleKeyText("g");}break;}}});c[7].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("8");break;case 1:i.keepInputFocus();j.setSingleKeyText("*");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("H");}else{i.keepInputFocus();j.setSingleKeyText("h");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("H");}else{i.keepInputFocus();j.setSingleKeyText("h");}break;}}});c[8].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("9");break;case 1:i.keepInputFocus();j.setSingleKeyText("+");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("I");}else{i.keepInputFocus();j.setSingleKeyText("i");}break;case 1:i.keepInputFocus();f.root.setStyle({display:"block"});g[3].root.setStyle({display:"block"});l();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),h[3][0]);accedo.device.manager.unregisterKey("back");accedo.device.manager.registerKey("back",function(){i.keepInputFocus();j.get("popupPanel").root.setStyle({display:"none"});j.get("miniPopup4").root.setStyle({display:"none"});k();j.backto();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[8]);});break;}}});c[9].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("0");break;case 1:i.keepInputFocus();j.setSingleKeyText("=");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("J");}else{i.keepInputFocus();j.setSingleKeyText("j");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("J");}else{i.keepInputFocus();j.setSingleKeyText("j");}break;}}});c[10].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("-");break;case 1:i.keepInputFocus();j.setSingleKeyText("_");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("K");}else{i.keepInputFocus();j.setSingleKeyText("k");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("K");}else{i.keepInputFocus();j.setSingleKeyText("k");}break;}}});c[11].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("/");break;case 1:i.keepInputFocus();j.setSingleKeyText("\\");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("L");}else{i.keepInputFocus();j.setSingleKeyText("l");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("L");}else{i.keepInputFocus();j.setSingleKeyText("l");}break;}}});c[12].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText(":");break;case 1:i.keepInputFocus();j.setSingleKeyText("|");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("M");}else{i.keepInputFocus();j.setSingleKeyText("m");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("M");}else{i.keepInputFocus();j.setSingleKeyText("m");}break;}}});c[13].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText(";");break;case 1:i.keepInputFocus();j.setSingleKeyText("~");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("N");}else{i.keepInputFocus();j.setSingleKeyText("n");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("N");}else{i.keepInputFocus();j.setSingleKeyText("n");}break;}}});c[14].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("(");break;case 1:i.keepInputFocus();j.setSingleKeyText("<");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("O");}else{i.keepInputFocus();j.setSingleKeyText("o");}break;case 1:i.keepInputFocus();f.root.setStyle({display:"block"});g[4].root.setStyle({display:"block"});l();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),h[4][0]);accedo.device.manager.unregisterKey("back");accedo.device.manager.registerKey("back",function(){i.keepInputFocus();j.get("popupPanel").root.setStyle({display:"none"});j.get("miniPopup5").root.setStyle({display:"none"});k();j.backto();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[14]);});break;}}});c[15].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText(")");break;case 1:i.keepInputFocus();j.setSingleKeyText(">");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("P");}else{i.keepInputFocus();j.setSingleKeyText("p");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("P");}else{i.keepInputFocus();j.setSingleKeyText("p");}break;}}});c[16].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("$");break;case 1:i.keepInputFocus();j.setSingleKeyText("€");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("Q");}else{i.keepInputFocus();j.setSingleKeyText("q");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("Q");}else{i.keepInputFocus();j.setSingleKeyText("q");}break;}}});c[17].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("&");break;case 1:i.keepInputFocus();j.setSingleKeyText("£");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("R");}else{i.keepInputFocus();j.setSingleKeyText("r");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("R");}else{i.keepInputFocus();j.setSingleKeyText("r");}break;}}});c[18].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("@");break;case 1:i.keepInputFocus();j.setSingleKeyText("¥");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("S");}else{i.keepInputFocus();j.setSingleKeyText("s");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("S");}else{i.keepInputFocus();j.setSingleKeyText("s");}break;}}});c[19].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText('"');break;case 1:i.keepInputFocus();j.setSingleKeyText("•");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("T");}else{i.keepInputFocus();j.setSingleKeyText("t");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("T");}else{i.keepInputFocus();j.setSingleKeyText("t");}break;}}});c[20].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText(".");break;case 1:i.keepInputFocus();j.setSingleKeyText(".");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("U");}else{i.keepInputFocus();j.setSingleKeyText("u");}break;case 1:i.keepInputFocus();f.root.setStyle({display:"block"});g[5].root.setStyle({display:"block"});l();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),h[5][0]);accedo.device.manager.unregisterKey("back");accedo.device.manager.registerKey("back",function(){i.keepInputFocus();j.get("popupPanel").root.setStyle({display:"none"});j.get("miniPopup6").root.setStyle({display:"none"});k();j.backto();accedo.utils.fn.defer(accedo.utils.fn.bind(accedo.focus.manager.requestFocus,accedo.focus.manager),c[20]);});break;}}});c[21].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText(",");break;case 1:i.keepInputFocus();j.setSingleKeyText(",");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("V");}else{i.keepInputFocus();j.setSingleKeyText("v");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("V");}else{i.keepInputFocus();j.setSingleKeyText("v");}break;}}});c[22].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("?");break;case 1:i.keepInputFocus();j.setSingleKeyText("?");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("W");}else{i.keepInputFocus();j.setSingleKeyText("w");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("W");}else{i.keepInputFocus();j.setSingleKeyText("w");}break;}}});c[23].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("!");break;case 1:i.keepInputFocus();j.setSingleKeyText("!");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("X");}else{i.keepInputFocus();j.setSingleKeyText("x");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("X");}else{i.keepInputFocus();j.setSingleKeyText("x");}break;}}});c[24].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText("'");break;case 1:i.keepInputFocus();j.setSingleKeyText("'");break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("Y");}else{i.keepInputFocus();j.setSingleKeyText("y");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("Y");}else{i.keepInputFocus();j.setSingleKeyText("y");}break;}}});c[25].addEventListener("click",function(){if(j.keySymbol){switch(j.keySymbolSet){case 0:i.keepInputFocus();j.setSingleKeyText('"');break;case 1:i.keepInputFocus();j.setSingleKeyText('"');break;}}else{switch(j.currentLan){case 0:if(j.capital){i.keepInputFocus();j.setSingleKeyText("Z");}else{i.keepInputFocus();j.setSingleKeyText("z");}break;case 1:if(j.capital){i.keepInputFocus();j.setSingleKeyText("Z");}else{i.keepInputFocus();j.setSingleKeyText("z");}break;}}});c[38].addEventListener("click",function(){i.keepInputFocus();j.setSingleKeyText(" ");});c[30].addEventListener("click",function(){if(j.currentLan==0){j.currentLan=1;c[30].root.addClass("k30EN");}else{if(j.currentLan==1){j.currentLan=0;c[30].root.removeClass("k30EN");}}j.setKeyTexts();});c[31].addEventListener("click",function(){i.keepInputFocus();switch(j.keySymbol){case false:if(j.capital==true){j.capital=false;c[31].root.removeClass("k31EN");}else{j.capital=true;c[31].root.addClass("k31EN");}break;case true:if(j.keySymbolSet==0){j.keySymbolSet=1;c[31].root.removeClass("k31S1");c[31].root.addClass("k31S2");}else{if(j.keySymbolSet==1){j.keySymbolSet=0;c[31].root.removeClass("k31S2");c[31].root.addClass("k31S1");}}}j.setKeyTexts();});c[32].addEventListener("click",function(){i.keepInputFocus();if(j.keySymbol==false){j.keySymbol=true;j.keySymbolSet=0;c[32].root.removeClass("k32");c[32].root.addClass("k32EN");c[31].root.removeClass("k31");c[31].root.removeClass("k31EN");c[31].root.removeClass("k31S2");c[31].root.addClass("k31S1");}else{j.keySymbol=false;j.capital=false;c[32].root.removeClass("k32EN");c[32].root.addClass("k32");c[31].root.removeClass("k31S2");c[31].root.removeClass("k31S1");c[31].root.removeClass("k31EN");c[31].root.addClass("k31");}j.setKeyTexts();});c[29].addEventListener("click",function(){i.keepInputFocus();var m=i.getCaretPosition();if(m>=0){i.setCaretPosition(new Number(m)+1);}});c[28].addEventListener("click",function(){i.keepInputFocus();var m=i.getCaretPosition();if(m>0){i.setCaretPosition(new Number(m)-1);}});c[39].addEventListener("click",function(){i.keepInputFocus();var o=i.getInputValue();var n=i.getCaretPosition();if(o.substr(0,n).length>0){if(n>0){n=n-1;}var m="";if(n>-1){m=o.substr(0,n)+o.substr(n+1,o.length);i.setInputValue(m);i.setCaretPosition(n,0);}}});function l(){for(var m=0;m<40;m++){c[m].root.setStyle({opacity:"0.2"});}}function k(){for(var m=0;m<40;m++){c[m].root.setStyle({opacity:"1"});}}},setup:function(){e=nfb.nfbKeybdSv.children[1].children;d=nfb.nfbKeybdSv.children[2].children;for(var k=0;k<5;k++){var j;if(k==0){j={type:nfb.ui.button,id:"ak"+k,htmlid:"ak"+k,css:"keyItem",nextLeft:"",nextRight:"ak"+(k+1),nextUp:"",nextDown:""};}else{if(k==4){j={type:nfb.ui.button,id:"ak"+k,htmlid:"ak"+k,css:"keyItem",nextLeft:"ak"+(k-1),nextRight:"",nextUp:"",nextDown:""};}else{if(k>0&&k<4){j={type:nfb.ui.button,id:"ak"+k,htmlid:"ak"+k,css:"keyItem",nextLeft:"ak"+(k-1),nextRight:"ak"+(k+1),nextUp:"",nextDown:""};}}}d[0].children[k]=(j);}for(k=0;k<3;k++){var r;if(k==0){r={type:nfb.ui.button,id:"ck"+k,htmlid:"ck"+k,css:"keyItem",nextLeft:"",nextRight:"ck"+(k+1),nextUp:"",nextDown:""};}else{if(k==1){r={type:nfb.ui.button,id:"ck"+k,htmlid:"ck"+k,css:"keyItem",nextLeft:"ck"+(k-1),nextRight:"ck"+(k+1),nextUp:"",nextDown:""};}else{if(k==2){r={type:nfb.ui.button,id:"ck"+k,htmlid:"ck"+k,css:"keyItem",nextLeft:"ck"+(k-1),nextRight:"",nextUp:"",nextDown:""};}}}d[1].children[k]=(r);}for(k=0;k<6;k++){if(k==0){var q={type:nfb.ui.button,id:"ek"+k,htmlid:"ek"+k,css:"keyItem",nextLeft:"",nextRight:"ek"+(k+1),nextUp:"",nextDown:"ek"+(k+3)};}else{if(k==1){q={type:nfb.ui.button,id:"ek"+k,htmlid:"ek"+k,css:"keyItem",nextLeft:"ek"+(k-1),nextRight:"ek"+(k+1),nextUp:"",nextDown:"ek"+(k+3)};}else{if(k==2){q={type:nfb.ui.button,id:"ek"+k,htmlid:"ek"+k,css:"keyItem",nextLeft:"ek"+(k-1),nextRight:"",nextUp:"",nextDown:"ek"+(k+3)};}else{if(k==3){q={type:nfb.ui.button,id:"ek"+k,htmlid:"ek"+k,css:"keyItem",nextLeft:"",nextRight:"ek"+(k+1),nextUp:"ek"+(k-3),nextDown:""};}else{if(k==4){q={type:nfb.ui.button,id:"ek"+k,htmlid:"ek"+k,css:"keyItem",nextLeft:"ek"+(k-1),nextRight:"ek"+(k+1),nextUp:"ek"+(k-3),nextDown:""};}else{if(k==5){q={type:nfb.ui.button,id:"ek"+k,htmlid:"ek"+k,css:"keyItem",nextLeft:"ek"+(k-1),nextRight:"",nextUp:"ek"+(k-3),nextDown:""};}}}}}}d[2].children[k]=(q);}for(k=0;k<4;k++){var p;if(k==0){p={type:nfb.ui.button,id:"ik"+k,htmlid:"ik"+k,css:"keyItem",nextLeft:"",nextRight:"ik"+(k+1),nextUp:"",nextDown:""};}else{if(k==3){p={type:nfb.ui.button,id:"ik"+k,htmlid:"ik"+k,css:"keyItem",nextLeft:"ik"+(k-1),nextRight:"",nextUp:"",nextDown:""};}else{if(k>0&&k<3){p={type:nfb.ui.button,id:"ik"+k,htmlid:"ik"+k,css:"keyItem",nextLeft:"ik"+(k-1),nextRight:"ik"+(k+1),nextUp:"",nextDown:""};}}}d[3].children[k]=(p);}for(k=0;k<4;k++){var o;if(k==0){o={type:nfb.ui.button,id:"ok"+k,htmlid:"ok"+k,css:"keyItem",nextLeft:"",nextRight:"ok"+(k+1),nextUp:"",nextDown:""};}else{if(k==3){o={type:nfb.ui.button,id:"ok"+k,htmlid:"ok"+k,css:"keyItem",nextLeft:"ok"+(k-1),nextRight:"",nextUp:"",nextDown:""};}else{if(k>0&&k<3){o={type:nfb.ui.button,id:"ok"+k,htmlid:"ok"+k,css:"keyItem",nextLeft:"ok"+(k-1),nextRight:"ok"+(k+1),nextUp:"",nextDown:""};}}}d[4].children[k]=(o);}for(k=0;k<5;k++){var n;if(k==0){n={type:nfb.ui.button,id:"uk"+k,htmlid:"uk"+k,css:"keyItem",nextLeft:"",nextRight:"uk"+(k+1),nextUp:"",nextDown:""};}else{if(k==4){n={type:nfb.ui.button,id:"uk"+k,htmlid:"uk"+k,css:"keyItem",nextLeft:"uk"+(k-1),nextRight:"",nextUp:"",nextDown:""};}else{if(k>0&&k<4){n={type:nfb.ui.button,id:"uk"+k,htmlid:"uk"+k,css:"keyItem",nextLeft:"uk"+(k-1),nextRight:"uk"+(k+1),nextUp:"",nextDown:""};}}}d[5].children[k]=(n);}for(k=0;k<3;k++){var m;if(k==0){m={type:nfb.ui.button,id:"lank"+k,htmlid:"lank"+k,css:"keyItem",nextLeft:"",nextRight:"lank"+(k+1),nextUp:"",nextDown:""};}else{if(k==1){m={type:nfb.ui.button,id:"lank"+k,htmlid:"lank"+k,css:"keyItem",nextLeft:"lank"+(k-1),nextRight:"lank"+(k+1),nextUp:"",nextDown:""};}else{if(k==2){m={type:nfb.ui.button,id:"lank"+k,htmlid:"lank"+k,css:"keyItem",nextLeft:"lank"+(k-1),nextRight:"",nextUp:"",nextDown:""};}}}d[6].children[k]=(m);}for(k=0;k<40;k++){var l;if(k==0){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"search_fr",nextRight:"k"+(k+1),nextUp:"",nextDown:"k"+(k+10)};}else{if(k>0&&k<9){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+1),nextUp:"",nextDown:"k"+(k+10)};}else{if(k==9){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+1),nextUp:"",nextDown:"k"+(k+10)};}else{if((k>10&&k<16)||(k>17&&k<19)||(k>20&&k<23)){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+1),nextUp:"k"+(k-10),nextDown:"k"+(k+10)};}else{if((k==16)||(k==17)){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+1),nextUp:"k"+(k-10),nextDown:"search_ok"};}else{if((k==24)||(k==23)){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+1),nextUp:"k"+(k-10),nextDown:"search_ok"};}else{if(k==25){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+3),nextUp:"k"+(k-10),nextDown:"search_ok"};}else{if(k>25&&k<28){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"",nextRight:"",nextUp:"",nextDown:"",focusable:false};}else{if(k>30&&k<32){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+1),nextUp:"k"+(k-10),nextDown:""};}else{if(k==32){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+6),nextUp:"k"+(k-10),nextDown:""};}else{if(k>32&&k<38){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"",nextRight:"",nextUp:"",nextDown:"",focusable:false};}else{if(k%10==0&&k!=0&&k!=30){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+1),nextUp:"k"+(k-10),nextDown:"k"+(k+10)};}else{if(k==19){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+1),nextUp:"k"+(k-10),nextDown:"k"+(k+10)};}else{if(k==38){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-6),nextRight:"k"+(k+1),nextUp:"k"+(k-10),nextDown:""};}else{if(k==28){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-3),nextRight:"k"+(k+1),nextUp:"k"+(k-10),nextDown:"k"+(k+10)};}else{if(k==30){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+1),nextUp:"k"+(k-10),nextDown:""};}else{if(k==29){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k"+(k+1),nextUp:"k"+(k-10),nextDown:"k"+(k+10)};}else{if(k==39){l={type:nfb.ui.button,id:"k"+k,htmlid:"k"+k,css:"keyItem",nextLeft:"k"+(k-1),nextRight:"k0",nextUp:"k"+(k-10),nextDown:""};}}}}}}}}}}}}}}}}}}e[k]=(l);}}});};});