accedo.define("nfb.videoplayCtrl.progressbarSubcontroller",["accedo.utils.object","accedo.ui.controller","nfb.videoplayViews.progressbarSubview"],function(){return function(i){var l,j,c,n,p,q,o,s,e,r,g,h,m,a;var d=20,k=802,f=157,b=126;return accedo.utils.object.extend(accedo.ui.controller(i),{playing:false,curTimeValue:0,durationValue:0,dragDealerCurrent:0,isDragging:false,init:function(){},onmouseoff:function(){},updatePlayPauseButton:function(t){if(t==0){c.root.setStyle({display:"block"});j.root.setStyle({display:"none"});}else{if(t==1){j.root.setStyle({display:"block"});c.root.setStyle({display:"none"});}}},dragToLocation:function(t){var u=this;if(t!=u.dragDealerCurrent){return;}else{u.dragDealerCurrent=-1;lgVideoPlayer.seek(t);u.isDragging=false;}},updateStatus:function(u,x,y,z,v,A){var t=this;t.playing=u;if(u){t.curTimeValue=x;t.durationValue=y;if(z==-1){z=y-x;}var w=x+z;h.setText(v);m.setText("/"+A);e.root.setStyle({display:"block",width:(y==0)?"1px":Math.min((w*k/y),k)+"px"});g.root.setStyle({display:"block",width:Math.min((z)*k/y,(y-x)*k/y)+"px",left:(f+x*k/y)+"px"});if(!t.isDragging){q.root.setStyle({display:"block",left:(x*k/y)+"px"});}}else{e.root.setStyle({display:"none"});g.root.setStyle({display:"none"});}},onCreate:function(u){var t=this;t.setView(nfb.videoplayViews.progressbarSubview);q=t.get("scrollbutton");o=t.get("trackJumpSensor");s=t.get("jumpFocus");e=t.get("progress");r=t.get("progressBarTrack");h=t.get("curTime");m=t.get("durTime");g=t.get("bufferMask");s.root.setStyle({display:"none",left:"137px"});e.root.setStyle({display:"none",width:"1px"});g.root.setStyle({display:"none",width:"1px"});q.root.addClass("handle");o.root.addEventListener("mouseover",function(w){var x=(w.clientX?w.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft):w.pageX);var v=x-d;s.root.setStyle({display:"block",left:v+"px"});});o.root.addEventListener("mouseout",function(v){s.root.setStyle({display:"none"});});o.root.addEventListener("mousemove",function(w){var x=(w.clientX?w.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft):w.pageX);var v=x-d;s.root.setStyle({display:"block",left:v+"px"});});o.root.addEventListener("click",function(w){if(!t.playing){return;}var x=(w.clientX?w.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft):w.pageX);var v=Math.round(Math.max(0,Math.min((x-f)/k*t.durationValue,t.durationValue)));lgVideoPlayer.seek(v);});this.addEventListener("attach",function(){});this.addEventListener("detach",function(){});}});};});